import{r as p,j as n,aP as O,aQ as F,aR as ee,aS as J,aT as Q,aU as U,aV as W,aW as X,aX as Y,aY as Z,aZ as te,a_ as se}from"./radix-x8H_F-uE.js";import{l as ae,c as u,m as x,ac as oe,J as ne,bw as le,bx as ie,g as re,ap as K,aA as ce,at as de,j as A,az as me,au as fe,av as P,aw as B,i as ue}from"./index-c6xvjn-C.js";import{D as pe}from"./data-table-Buutdpvf.js";import{E as xe}from"./ellipsis-vertical-DItJrBlr.js";import"./tanstack-aN5NUOUd.js";import"./animation-RShxBXpy.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],V=ae("ban",he),ge=te,be=se,je=p.forwardRef((t,l)=>{const e=u.c(14);let s,o,a,i;e[0]!==t?({className:o,inset:a,children:s,...i}=t,e[0]=t,e[1]=s,e[2]=o,e[3]=a,e[4]=i):(s=e[1],o=e[2],a=e[3],i=e[4]);const r=a&&"pl-8";let c;e[5]!==o||e[6]!==r?(c=x("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",r,o),e[5]=o,e[6]=r,e[7]=c):c=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m=n.jsx(oe,{className:"ml-auto h-4 w-4"}),e[8]=m):m=e[8];let h;return e[9]!==s||e[10]!==i||e[11]!==l||e[12]!==c?(h=n.jsxs(O,{ref:l,className:c,...i,children:[s,m]}),e[9]=s,e[10]=i,e[11]=l,e[12]=c,e[13]=h):h=e[13],h});je.displayName=O.displayName;const Ne=p.forwardRef((t,l)=>{const e=u.c(9);let s,o;e[0]!==t?({className:s,...o}=t,e[0]=t,e[1]=s,e[2]=o):(s=e[1],o=e[2]);let a;e[3]!==s?(a=x("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",s),e[3]=s,e[4]=a):a=e[4];let i;return e[5]!==o||e[6]!==l||e[7]!==a?(i=n.jsx(F,{ref:l,className:a,...o}),e[5]=o,e[6]=l,e[7]=a,e[8]=i):i=e[8],i});Ne.displayName=F.displayName;const q=p.forwardRef((t,l)=>{const e=u.c(9);let s,o;e[0]!==t?({className:s,...o}=t,e[0]=t,e[1]=s,e[2]=o):(s=e[1],o=e[2]);let a;e[3]!==s?(a=x("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",s),e[3]=s,e[4]=a):a=e[4];let i;return e[5]!==o||e[6]!==l||e[7]!==a?(i=n.jsx(ee,{children:n.jsx(J,{ref:l,className:a,...o})}),e[5]=o,e[6]=l,e[7]=a,e[8]=i):i=e[8],i});q.displayName=J.displayName;const E=p.forwardRef((t,l)=>{const e=u.c(11);let s,o,a;e[0]!==t?({className:s,inset:o,...a}=t,e[0]=t,e[1]=s,e[2]=o,e[3]=a):(s=e[1],o=e[2],a=e[3]);const i=o&&"pl-8";let r;e[4]!==s||e[5]!==i?(r=x("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i,s),e[4]=s,e[5]=i,e[6]=r):r=e[6];let c;return e[7]!==a||e[8]!==l||e[9]!==r?(c=n.jsx(Q,{ref:l,className:r,...a}),e[7]=a,e[8]=l,e[9]=r,e[10]=c):c=e[10],c});E.displayName=Q.displayName;const ye=p.forwardRef((t,l)=>{const e=u.c(14);let s,o,a,i;e[0]!==t?({className:a,children:o,checked:s,...i}=t,e[0]=t,e[1]=s,e[2]=o,e[3]=a,e[4]=i):(s=e[1],o=e[2],a=e[3],i=e[4]);let r;e[5]!==a?(r=x("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),e[5]=a,e[6]=r):r=e[6];let c;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Z,{children:n.jsx(ne,{className:"h-4 w-4"})})}),e[7]=c):c=e[7];let m;return e[8]!==s||e[9]!==o||e[10]!==i||e[11]!==l||e[12]!==r?(m=n.jsxs(U,{ref:l,className:r,checked:s,...i,children:[c,o]}),e[8]=s,e[9]=o,e[10]=i,e[11]=l,e[12]=r,e[13]=m):m=e[13],m});ye.displayName=U.displayName;const we=p.forwardRef((t,l)=>{const e=u.c(12);let s,o,a;e[0]!==t?({className:o,children:s,...a}=t,e[0]=t,e[1]=s,e[2]=o,e[3]=a):(s=e[1],o=e[2],a=e[3]);let i;e[4]!==o?(i=x("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),e[4]=o,e[5]=i):i=e[5];let r;e[6]===Symbol.for("react.memo_cache_sentinel")?(r=n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Z,{children:n.jsx(le,{className:"h-4 w-4 fill-current"})})}),e[6]=r):r=e[6];let c;return e[7]!==s||e[8]!==a||e[9]!==l||e[10]!==i?(c=n.jsxs(W,{ref:l,className:i,...a,children:[r,s]}),e[7]=s,e[8]=a,e[9]=l,e[10]=i,e[11]=c):c=e[11],c});we.displayName=W.displayName;const G=p.forwardRef((t,l)=>{const e=u.c(11);let s,o,a;e[0]!==t?({className:s,inset:o,...a}=t,e[0]=t,e[1]=s,e[2]=o,e[3]=a):(s=e[1],o=e[2],a=e[3]);const i=o&&"pl-8";let r;e[4]!==s||e[5]!==i?(r=x("px-2 py-1.5 text-sm font-semibold text-foreground",i,s),e[4]=s,e[5]=i,e[6]=r):r=e[6];let c;return e[7]!==a||e[8]!==l||e[9]!==r?(c=n.jsx(X,{ref:l,className:r,...a}),e[7]=a,e[8]=l,e[9]=r,e[10]=c):c=e[10],c});G.displayName=X.displayName;const H=p.forwardRef((t,l)=>{const e=u.c(9);let s,o;e[0]!==t?({className:s,...o}=t,e[0]=t,e[1]=s,e[2]=o):(s=e[1],o=e[2]);let a;e[3]!==s?(a=x("-mx-1 my-1 h-px bg-border",s),e[3]=s,e[4]=a):a=e[4];let i;return e[5]!==o||e[6]!==l||e[7]!==a?(i=n.jsx(Y,{ref:l,className:a,...o}),e[5]=o,e[6]=l,e[7]=a,e[8]=i):i=e[8],i});H.displayName=Y.displayName;const Ce=()=>{const t=u.c(34),[l,e]=p.useState(1),{data:s,isLoading:o,isError:a,error:i}=ie(),r=re();let c;t[0]!==r?(c=(f,d)=>{r(`/schematics/${d}/${f}`)},t[0]=r,t[1]=c):c=t[1];const m=c,h=Se,L=_e;let S;t[2]===Symbol.for("react.memo_cache_sentinel")?(S={accessorKey:"$id",header:"ID",cell:ve},t[2]=S):S=t[2];let g;t[3]!==m?(g={accessorKey:"title",header:"Title",cell:f=>{const{row:d}=f;return n.jsxs(ge,{children:[n.jsx(be,{children:n.jsx("span",{className:"cursor-pointer font-medium hover:text-blue-600",onClick:()=>m(d.original.slug,d.original.$id),children:d.original.title})}),n.jsxs(q,{className:"w-48",children:[n.jsx(G,{children:"Schematic Options"}),n.jsx(H,{}),n.jsxs(E,{onClick:()=>h(d.original),className:"text-red-600 focus:bg-red-50 focus:text-red-600 dark:focus:bg-red-950",children:[n.jsx(K,{className:"mr-2 h-4 w-4"}),"Delete Schematic"]}),n.jsxs(E,{onClick:()=>L(d.original),className:"text-orange-600 focus:bg-orange-50 focus:text-orange-600 dark:focus:bg-orange-950",children:[n.jsx(V,{className:"mr-2 h-4 w-4"}),"Ban Schematic"]})]})]})}},t[3]=m,t[4]=g):g=t[4];let _,v,k,$;t[5]===Symbol.for("react.memo_cache_sentinel")?(_={accessorKey:"description",header:"Description"},v={accessorKey:"downloads",header:"Downloads"},k={accessorKey:"likes",header:"Likes"},$={accessorKey:"$createdAt",header:"Created At",cell:ke},t[5]=_,t[6]=v,t[7]=k,t[8]=$):(_=t[5],v=t[6],k=t[7],$=t[8]);let b;t[9]!==m?(b={id:"actions",header:"",cell:f=>{const{row:d}=f;return n.jsxs(ce,{children:[n.jsx(de,{asChild:!0,children:n.jsxs(A,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[n.jsx(xe,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Open menu"})]})}),n.jsxs(me,{align:"end",className:"w-48",children:[n.jsx(fe,{children:"Actions"}),n.jsx(P,{}),n.jsx(B,{onClick:()=>m(d.original.slug,d.original.$id),children:"View Details"}),n.jsx(P,{}),n.jsxs(B,{onClick:()=>h(d.original),className:"text-red-600 focus:bg-red-50 focus:text-red-600 dark:focus:bg-red-950",children:[n.jsx(K,{className:"mr-2 h-4 w-4"}),"Delete Schematic"]}),n.jsxs(B,{onClick:()=>L(d.original),className:"text-orange-600 focus:bg-orange-50 focus:text-orange-600 dark:focus:bg-orange-950",children:[n.jsx(V,{className:"mr-2 h-4 w-4"}),"Ban Schematic"]})]})]})}},t[9]=m,t[10]=b):b=t[10];let D;t[11]!==g||t[12]!==b?(D=[S,g,_,v,k,$,b],t[11]=g,t[12]=b,t[13]=D):D=t[13];const T=D;if(o){let f;return t[14]===Symbol.for("react.memo_cache_sentinel")?(f=n.jsx("div",{children:"Chargement..."}),t[14]=f):f=t[14],f}if(a){const f=i?.message;let d;return t[15]!==f?(d=n.jsxs("div",{children:["Erreur: ",f]}),t[15]=f,t[16]=d):d=t[16],d}let j;t[17]!==s?(j=s||[],t[17]=s,t[18]=j):j=t[18];let N;t[19]!==T||t[20]!==j?(N=n.jsx(pe,{columns:T,data:j}),t[19]=T,t[20]=j,t[21]=N):N=t[21];let M;t[22]===Symbol.for("react.memo_cache_sentinel")?(M=()=>e($e),t[22]=M):M=t[22];const z=l===1;let y;t[23]!==z?(y=n.jsx(A,{onClick:M,disabled:z,children:"Précédent"}),t[23]=z,t[24]=y):y=t[24];let w;t[25]!==l?(w=n.jsxs("span",{children:["Page ",l]}),t[25]=l,t[26]=w):w=t[26];let R;t[27]===Symbol.for("react.memo_cache_sentinel")?(R=n.jsx(A,{onClick:()=>e(De),children:"Suivant"}),t[27]=R):R=t[27];let C;t[28]!==y||t[29]!==w?(C=n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[y,w,R]}),t[28]=y,t[29]=w,t[30]=C):C=t[30];let I;return t[31]!==N||t[32]!==C?(I=n.jsx("div",{children:n.jsxs("div",{className:"px-4 md:px-8",children:[N,C]})}),t[31]=N,t[32]=C,t[33]=I):I=t[33],I};function Se(t){confirm(`Are you sure you want to delete "${t.title}"?`)&&console.log("Deleting schematic:",t)}function _e(t){confirm(`Are you sure you want to ban "${t.title}"?`)&&console.log("Banning schematic:",t)}function ve(t){const{row:l}=t;return n.jsx(ue,{variant:"outline",children:l.original.$id})}function ke(t){const{row:l}=t;return n.jsx("span",{children:new Date(l.original.$createdAt).toLocaleDateString()})}function $e(t){return Math.max(t-1,1)}function De(t){return t+1}const Me=()=>{const t=u.c(1);let l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(Ce,{}),t[0]=l):l=t[0],l},Ee={SchematicsDisplay:Me};export{Me as SchematicsDisplay,Ee as default};
