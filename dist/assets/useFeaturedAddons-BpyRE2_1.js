import{c as a,bh as i,E as d,bk as n,bj as y}from"./index-BNMRn6sK.js";import{d as f,h as l,e as h}from"./tanstack-57jHkLwp.js";const c="main",u="featured_addons",C=e=>{const t=a.c(2);let r;return t[0]!==e?(r={queryKey:["featuredAddons",{onlyActive:e}],queryFn:async()=>{try{const o=[i.orderAsc("display_order")];return e&&o.unshift(i.equal("active",!0)),(await d.listDocuments(c,u,o)).documents}catch(o){throw console.error("Error fetching featured addons:",o),new Error("Failed to fetch featured addons")}},staleTime:3e5},t[0]=e,t[1]=r):r=t[1],f(r)},N=()=>{const e=a.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["featuredAddons"],queryFn:g,staleTime:3e5},e[0]=t):t=e[0],f(t)},Q=()=>{const e=a.c(2),t=h();let r;return e[0]!==t?(r={mutationFn:F,onSuccess:()=>{t.invalidateQueries({queryKey:["featuredAddons"]}),n({title:"Success",description:"Featured addon created successfully"})},onError:E},e[0]=t,e[1]=r):r=e[1],l(r)},T=()=>{const e=a.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:_},e[0]=t):t=e[0],l(t)},v=()=>{const e=a.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:b,onError:w},e[0]=t):t=e[0],l(t)};async function g(){try{return(await d.listDocuments(c,u,[i.orderAsc("display_order")])).documents}catch(e){throw console.error("Error fetching featured addons:",e),new Error("Failed to fetch featured addons")}}async function F(e){try{return await d.createDocument(c,u,y.unique(),e)}catch(t){throw console.error("Error creating featured addon:",t),new Error("Failed to create featured addon")}}function E(e){n({title:"Error: "+e.name,description:"Failed to create featured addon: "+e.message,variant:"destructive"})}async function _(e){const{id:t,addon:r}=e;try{const{$id:o,$collectionId:s,$databaseId:A,$createdAt:$,$updatedAt:D,$permissions:q,$sequence:x,...m}=r,p=await d.updateDocument(c,u,t,m);return n({className:"bg-surface-3 border-ring text-foreground",title:"Featured addon updated"}),p}catch(o){const s=o;throw n({className:"bg-surface-3 border-ring text-foreground",title:"Error updating featured addon"}),console.error("Error updating featured addon:",s),s}}async function b(e){try{const t=await d.deleteDocument(c,u,e);return n({className:"bg-surface-3 border-ring text-foreground",title:"Featured addon deleted"}),t}catch(t){const r=t;throw n({className:"bg-surface-3 border-ring text-foreground",title:"Error deleting featured addon"}),console.error("Error deleting featured addon:",r),r}}function w(e){n({title:"Error",description:"Failed to delete featured addon",variant:"destructive"})}export{T as a,N as b,v as c,Q as d,C as u};
