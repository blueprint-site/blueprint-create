import{j as s,ag as U,ah as G,ai as Y,r as z}from"./radix-x8H_F-uE.js";import{l as P,c as M,f as R,e as q,S as F,i as J,M as K,a as Q,m as W,n as X,o as Z,j as B,p as ee,q as te,r as se,t as ie,v as le,h as ae,w as oe,C as re,D as ne,b as ce,d as de,x as me,y as fe}from"./index-CV_NrdTx.js";import"./carousel-2dTbwpfU.js";import{P as he}from"./progress-242Iewmw.js";import{G as pe}from"./gallery-BJrTKhrh.js";import{M as ue}from"./minecraftVersions-C4FejwFY.js";import{M as xe}from"./ModLoaders-CJyvo1Po.js";import"./tanstack-aN5NUOUd.js";import"./animation-RShxBXpy.js";import"./arrow-right-UdhowPb2.js";import"./loader-circle-B7jcW4Fq.js";import"./chevron-left-92NESxyu.js";import"./DevinsBadges-DG1A-i83.js";import"./tooltip-BzjzYoP0.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],je=P("clock",ge);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Ne=P("hourglass",ve),we=i=>{const e=M.c(2),{title:t}=i,l=t===void 0?"":t;let o;return e[0]!==l?(o=s.jsx(R,{className:"mt-4 p-4",children:s.jsx(q,{className:"flex items-center gap-4",children:s.jsx(F,{title:l})})}),e[0]=l,e[1]=o):o=e[1],o},H=i=>{const e=M.c(15),{versions:t,variant:l}=i;let o;e[0]!==t?(o=t===void 0?[]:t,e[0]=t,e[1]=o):o=e[1];const a=o,n=l===void 0?"secondary":l;if(a.length===0){let d;return e[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("div",{children:"No versions found!"}),e[2]=d):d=e[2],d}let r;e[3]!==a?(r=a.includes("All"),e[3]=a,e[4]=r):r=e[4];const c=r;let h;e[5]!==c||e[6]!==a?(h=c?ue.filter(ye).map(Se):a,e[5]=c,e[6]=a,e[7]=h):h=e[7];const f=h;let m;if(e[8]!==n||e[9]!==f){let d;e[11]!==n?(d=p=>s.jsx(J,{variant:n,children:p},p),e[11]=n,e[12]=d):d=e[12],m=f.map(d),e[8]=n,e[9]=f,e[10]=m}else m=e[10];let u;return e[13]!==m?(u=s.jsx("div",{className:"flex flex-row flex-wrap gap-2",children:m}),e[13]=m,e[14]=u):u=e[14],u};function ye(i){return i.value!=="All"}function Se(i){return i.value}const _e=i=>{const e=M.c(26),{schematic:t}=i;let l;e[0]!==t.image_urls?(l=s.jsx("div",{className:"mt-2 w-full md:w-2/3",children:s.jsx(pe,{images:t.image_urls})}),e[0]=t.image_urls,e[1]=l):l=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Create Versions"}),e[2]=o):o=e[2];let a;e[3]!==t.create_versions?(a=s.jsxs("div",{className:"space-y-4",children:[o,s.jsx(H,{versions:t.create_versions,variant:"default"})]}),e[3]=t.create_versions,e[4]=a):a=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Minecraft Versions"}),e[5]=n):n=e[5];let r;e[6]!==t.game_versions?(r=s.jsx(H,{versions:t.game_versions,variant:"secondary"}),e[6]=t.game_versions,e[7]=r):r=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Modloaders"}),e[8]=c):c=e[8];let h;e[9]!==t.modloaders?(h=s.jsx(xe,{loaders:t.modloaders}),e[9]=t.modloaders,e[10]=h):h=e[10];let f;e[11]!==r||e[12]!==h?(f=s.jsxs("div",{className:"space-y-4",children:[n,r,c,h]}),e[11]=r,e[12]=h,e[13]=f):f=e[13];let m;e[14]!==a||e[15]!==f?(m=s.jsxs("div",{className:"flex flex-col items-start gap-4 md:w-1/3",children:[a,f]}),e[14]=a,e[15]=f,e[16]=m):m=e[16];let u;e[17]!==l||e[18]!==m?(u=s.jsxs("div",{className:"flex flex-col items-start gap-8 md:flex-row",children:[l,m]}),e[17]=l,e[18]=m,e[19]=u):u=e[19];let d;e[20]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("h2",{className:"text-xl font-semibold",children:"Description:"}),e[20]=d):d=e[20];let p;e[21]!==t.description?(p=s.jsx("div",{className:"flex flex-col items-start gap-8 md:flex-row",children:s.jsxs("div",{className:"w-full space-y-4 pt-2",children:[d,s.jsx("p",{className:"text-foreground-muted whitespace-pre-wrap",children:s.jsx(K,{content:t.description})})]})}),e[21]=t.description,e[22]=p):p=e[22];let v;return e[23]!==u||e[24]!==p?(v=s.jsx(R,{className:"mt-4",children:s.jsxs(Q,{className:"space-y-6 pt-2",children:[u,p]})}),e[23]=u,e[24]=p,e[25]=v):v=e[25],v};function be(i){const e=M.c(4);let t;e[0]!==i?({...t}=i,e[0]=i,e[1]=t):t=e[1];let l;return e[2]!==t?(l=s.jsx(Y,{"data-slot":"hover-card",...t}),e[2]=t,e[3]=l):l=e[3],l}function De(i){const e=M.c(4);let t;e[0]!==i?({...t}=i,e[0]=i,e[1]=t):t=e[1];let l;return e[2]!==t?(l=s.jsx(U,{"data-slot":"hover-card-trigger",...t}),e[2]=t,e[3]=l):l=e[3],l}function Te(i){const e=M.c(12);let t,l,o,a;e[0]!==i?({className:t,align:o,sideOffset:a,...l}=i,e[0]=i,e[1]=t,e[2]=l,e[3]=o,e[4]=a):(t=e[1],l=e[2],o=e[3],a=e[4]);const n=o===void 0?"center":o,r=a===void 0?4:a;let c;e[5]!==t?(c=W("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 rounded-md border p-4 shadow-md outline-hidden",t),e[5]=t,e[6]=c):c=e[6];let h;return e[7]!==n||e[8]!==l||e[9]!==r||e[10]!==c?(h=s.jsx(G,{"data-slot":"hover-card-content",align:n,sideOffset:r,className:c,...l}),e[7]=n,e[8]=l,e[9]=r,e[10]=c,e[11]=h):h=e[11],h}const Ce=i=>{const e=M.c(29),{startTimestamp:t,countdownTime:l,description:o,icon:a,onComplete:n}=i;let r;e[0]!==l||e[1]!==t?(r=()=>Math.max(l-Math.floor((Date.now()-t)/1e3),0),e[0]=l,e[1]=t,e[2]=r):r=e[2];const[c,h]=z.useState(r),f=z.useRef(null);let m,u;e[3]!==n||e[4]!==c?(m=()=>{c===0&&n&&n()},u=[c,n],e[3]=n,e[4]=c,e[5]=m,e[6]=u):(m=e[5],u=e[6]),z.useEffect(m,u);let d,p;e[7]!==l||e[8]!==t?(d=()=>{const N=()=>{const C=Math.floor((Date.now()-t)/1e3);h(Math.max(l-C,0))};return f.current=setInterval(N,1e3),N(),()=>{f.current&&clearInterval(f.current)}},p=[t,l],e[7]=l,e[8]=t,e[9]=d,e[10]=p):(d=e[9],p=e[10]),z.useEffect(d,p);let v;v=c/l*100;const _=v,k=$e;let b;e[11]!==a?(b=a||s.jsx(je,{className:"h-6 w-6 text-gray-500"}),e[11]=a,e[12]=b):b=e[12];const D=k(c);let x;e[13]!==D?(x=s.jsx("span",{className:"text-lg font-semibold",children:D}),e[13]=D,e[14]=x):x=e[14];let w;e[15]!==b||e[16]!==x?(w=s.jsxs(De,{className:"flex cursor-pointer items-center gap-3",children:[b,x]}),e[15]=b,e[16]=x,e[17]=w):w=e[17];let T;e[18]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("div",{className:"text-sm",children:"Time Remaining"}),e[18]=T):T=e[18];let g;e[19]!==_?(g=s.jsx(he,{value:_,className:"w-full"}),e[19]=_,e[20]=g):g=e[20];const $=o??"This timer is counting down.";let y;e[21]!==$?(y=s.jsx("p",{className:"text-sm",children:$}),e[21]=$,e[22]=y):y=e[22];let j;e[23]!==g||e[24]!==y?(j=s.jsxs(Te,{className:"w-64 space-y-2",children:[T,g,y]}),e[23]=g,e[24]=y,e[25]=j):j=e[25];let S;return e[26]!==w||e[27]!==j?(S=s.jsxs(be,{children:[w,j]}),e[26]=w,e[27]=j,e[28]=S):S=e[28],S};function $e(i){const e=Math.floor(i/60),t=i%60;return`${e}:${t.toString().padStart(2,"0")}`}const Me=i=>{const e=M.c(29),{title:t,description:l,triggerText:o,triggerVariant:a,triggerSize:n,showTriggerIcon:r,dialogTitle:c,dialogDescription:h,sharingVariant:f,iconSize:m,showCopyLink:u,triggerClassName:d,open:p,onOpenChange:v}=i,_=o===void 0?"Share":o,k=a===void 0?"outline":a,b=n===void 0?"default":n,D=r===void 0?!0:r,x=c===void 0?"Share this content":c,w=f===void 0?"default":f,T=m===void 0?32:m,g=u===void 0?!0:u,[$,y]=z.useState(!1),j=p!==void 0?p:$,S=v||y;let N;e[0]!==D?(N=D&&s.jsx(X,{className:"mr-2 h-4 w-4"}),e[0]=D,e[1]=N):N=e[1];let C;e[2]!==N||e[3]!==d||e[4]!==b||e[5]!==_||e[6]!==k?(C=s.jsx(Z,{asChild:!0,children:s.jsxs(B,{variant:k,size:b,className:d,children:[N,_]})}),e[2]=N,e[3]=d,e[4]=b,e[5]=_,e[6]=k,e[7]=C):C=e[7];let I;e[8]!==x?(I=s.jsx(ee,{children:x}),e[8]=x,e[9]=I):I=e[9];let V;e[10]!==h?(V=h&&s.jsx(te,{children:h}),e[10]=h,e[11]=V):V=e[11];let A;e[12]!==I||e[13]!==V?(A=s.jsxs(se,{children:[I,V]}),e[12]=I,e[13]=V,e[14]=A):A=e[14];let L;e[15]!==l||e[16]!==T||e[17]!==w||e[18]!==g||e[19]!==t?(L=s.jsx("div",{className:"mt-4",children:s.jsx(F,{title:t,description:l,details:!1,size:T,variant:w,showCopyLink:g,showShareDialog:!1})}),e[15]=l,e[16]=T,e[17]=w,e[18]=g,e[19]=t,e[20]=L):L=e[20];let O;e[21]!==A||e[22]!==L?(O=s.jsxs(ie,{className:"sm:max-w-md",children:[A,L]}),e[21]=A,e[22]=L,e[23]=O):O=e[23];let E;return e[24]!==j||e[25]!==S||e[26]!==C||e[27]!==O?(E=s.jsxs(le,{open:j,onOpenChange:S,children:[C,O]}),e[24]=j,e[25]=S,e[26]=C,e[27]=O,e[28]=E):E=e[28],E},ke=i=>{const e=M.c(38),{schematic:t}=i,[l,o]=z.useState(null),[a,n]=z.useState(!1),{mutate:r}=ae(),c=oe(Ie),f=(c?c.$id:"")===t?.user_id,m=t?.$createdAt,u=Ve;let d,p;e[0]!==m||e[1]!==f?(d=()=>{if(m){const I=new Date(m).getTime();o(I);const V=I+6e4;Date.now()>V&&f&&n(!0)}},p=[m,f],e[0]=m,e[1]=f,e[2]=d,e[3]=p):(d=e[2],p=e[3]),z.useEffect(d,p);let v;e[4]!==l||e[5]!==a||e[6]!==f?(v=f&&s.jsx(s.Fragment,{children:l&&!a?s.jsx(Ce,{startTimestamp:l,countdownTime:60,description:"Processing your upload... Your schematic will be visible to everyone in about a minute",icon:s.jsx(Ne,{}),onComplete:()=>n(!0)}):s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("span",{className:"text-success text-sm font-semibold",children:"Your schematic is now public!"})})}),e[4]=l,e[5]=a,e[6]=f,e[7]=v):v=e[7];let _;e[8]!==v?(_=s.jsx("div",{className:"flex items-center justify-start gap-4",children:v}),e[8]=v,e[9]=_):_=e[9];const k=`Check out this amazing Minecraft schematic: ${t.title} by ${t.authors.join(", ")}`,b=`Share "${t.title}"`;let D;e[10]!==t.title||e[11]!==k||e[12]!==b?(D=s.jsx(Me,{title:t.title,description:k,triggerText:"Share",triggerVariant:"default",showTriggerIcon:!0,dialogTitle:b,dialogDescription:"Share this schematic with your friends and the community!",triggerClassName:"transition-all duration-300 hover:shadow-lg"}),e[10]=t.title,e[11]=k,e[12]=b,e[13]=D):D=e[13];let x;e[14]!==r||e[15]!==t.$id||e[16]!==t.schematic_url?(x=()=>{u(t.schematic_url),r(t.$id)},e[14]=r,e[15]=t.$id,e[16]=t.schematic_url,e[17]=x):x=e[17];let w,T;e[18]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(ne,{className:"mr-2"}),w=s.jsx("span",{className:"font-bold",children:"Download"}),e[18]=w,e[19]=T):(w=e[18],T=e[19]);let g;e[20]!==x?(g=s.jsxs(B,{onClick:x,variant:"accent",className:"transition-all duration-300 hover:shadow-lg",children:[T,w]}),e[20]=x,e[21]=g):g=e[21];let $;e[22]!==g||e[23]!==D?($=s.jsxs("div",{className:"flex items-center justify-end gap-4",children:[D,g]}),e[22]=g,e[23]=D,e[24]=$):$=e[24];let y;e[25]!==$||e[26]!==_?(y=s.jsxs("div",{className:"flex w-full justify-between",children:[_,$]}),e[25]=$,e[26]=_,e[27]=y):y=e[27];let j;e[28]!==t.title?(j=s.jsx(re,{children:s.jsx("h1",{className:"text-2xl font-bold md:text-3xl",children:t.title})}),e[28]=t.title,e[29]=j):j=e[29];let S;e[30]!==t.authors?(S=t.authors.join(", "),e[30]=t.authors,e[31]=S):S=e[31];let N;e[32]!==S?(N=s.jsxs(ce,{className:"text-foreground-muted",children:["By ",S]}),e[32]=S,e[33]=N):N=e[33];let C;return e[34]!==y||e[35]!==j||e[36]!==N?(C=s.jsx(R,{className:"mt-8",children:s.jsxs(de,{className:"text-center",children:[y,j,N]})}),e[34]=y,e[35]=j,e[36]=N,e[37]=C):C=e[37],C};function Ie(i){return i.user}function Ve(i){window.open(i,"_blank")}const ze=()=>{const i=M.c(10),{id:e}=me(),{data:t}=fe(e);if(!t){let r;return i[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("div",{className:"text-foreground-muted flex items-center justify-center p-8",children:"Loading..."}),i[0]=r):r=i[0],r}let l,o;i[1]!==t?(l=s.jsx(ke,{schematic:t}),o=s.jsx(_e,{schematic:t}),i[1]=t,i[2]=l,i[3]=o):(l=i[2],o=i[3]);let a;i[4]!==t.title?(a=s.jsx(we,{title:t.title}),i[4]=t.title,i[5]=a):a=i[5];let n;return i[6]!==l||i[7]!==o||i[8]!==a?(n=s.jsxs("div",{className:"container pb-8",children:[l,o,a]}),i[6]=l,i[7]=o,i[8]=a,i[9]=n):n=i[9],n},Ke=()=>{const i=M.c(1);let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx(ze,{}),i[0]=e):e=i[0],e};export{Ke as default};
