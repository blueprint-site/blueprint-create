import{r as S,j as s}from"./radix-bXgmYFMM.js";import{m as G,c as P,v as E,s as L,t as I,a as U,f as H,bo as se,X as te,C as K,d as O,b as Q,r as D,cb as R,n as re,cl as le,aL as ne,aM as ie,aN as ae,_ as oe,c5 as ce,A as de,aS as me,N as he,ae as xe,O as fe,x as ue,D as ge,y as pe,p as je}from"./index-BNMRn6sK.js";import{E as ye}from"./external-link-gY0WA3so.js";import{c as Z,d as Ne}from"./useModrinth-CxKRbiUe.js";import{B as be}from"./badge-check-C9T5cEId.js";import{C as J}from"./circle-check-C97TiTY2.js";import{u as ve,b as ke}from"./useAddons-CiWxs4MW.js";import{P as we}from"./progress-BOV-3sfj.js";import{C as q}from"./circle-alert-D036b0fS.js";import{A as _e,m as Se}from"./animation-CiItlcC_.js";import{P as Ce}from"./puzzle-B6tjE10w.js";import"./tanstack-57jHkLwp.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]],Ae=G("disc-3",Me);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Pe=G("refresh-ccw",De),Ve="#F16436",$e=S.forwardRef(function({title:e="CurseForge",color:i="currentColor",size:r=24,...o},n){return i==="default"&&(i=Ve),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:i,viewBox:"0 0 24 24",ref:n,...o,children:[s.jsx("title",{children:e}),s.jsx("path",{d:"M18.326 9.2145S23.2261 8.4418 24 6.1882h-7.5066V4.4H0l2.0318 2.3576V9.173s5.1267-.2665 7.1098 1.2372c2.7146 2.516-3.053 5.917-3.053 5.917L5.0995 19.6c1.5465-1.4726 4.494-3.3775 9.8983-3.2857-2.0565.65-4.1245 1.6651-5.7344 3.2857h10.9248l-1.0288-3.2726s-7.918-4.6688-.8336-7.1127z"})]})}),Te="#00AF5C",X=S.forwardRef(function({title:e="Modrinth",color:i="currentColor",size:r=24,...o},n){return i==="default"&&(i=Te),s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:i,viewBox:"0 0 24 24",ref:n,...o,children:[s.jsx("title",{children:e}),s.jsx("path",{d:"M12.252.004a11.78 11.768 0 0 0-8.92 3.73 11 10.999 0 0 0-2.17 3.11 11.37 11.359 0 0 0-1.16 5.169c0 1.42.17 2.5.6 3.77.24.759.77 1.899 1.17 2.529a12.3 12.298 0 0 0 8.85 5.639c.44.05 2.54.07 2.76.02.2-.04.22.1-.26-1.7l-.36-1.37-1.01-.06a8.5 8.489 0 0 1-5.18-1.8 5.34 5.34 0 0 1-1.3-1.26c0-.05.34-.28.74-.5a37.572 37.545 0 0 1 2.88-1.629c.03 0 .5.45 1.06.98l1 .97 2.07-.43 2.06-.43 1.47-1.47c.8-.8 1.48-1.5 1.48-1.52 0-.09-.42-1.63-.46-1.7-.04-.06-.2-.03-1.02.18-.53.13-1.2.3-1.45.4l-.48.15-.53.53-.53.53-.93.1-.93.07-.52-.5a2.7 2.7 0 0 1-.96-1.7l-.13-.6.43-.57c.68-.9.68-.9 1.46-1.1.4-.1.65-.2.83-.33.13-.099.65-.579 1.14-1.069l.9-.9-.7-.7-.7-.7-1.95.54c-1.07.3-1.96.53-1.97.53-.03 0-2.23 2.48-2.63 2.97l-.29.35.28 1.03c.16.56.3 1.16.31 1.34l.03.3-.34.23c-.37.23-2.22 1.3-2.84 1.63-.36.2-.37.2-.44.1-.08-.1-.23-.6-.32-1.03-.18-.86-.17-2.75.02-3.73a8.84 8.839 0 0 1 7.9-6.93c.43-.03.77-.08.78-.1.06-.17.5-2.999.47-3.039-.01-.02-.1-.02-.2-.03Zm3.68.67c-.2 0-.3.1-.37.38-.06.23-.46 2.42-.46 2.52 0 .04.1.11.22.16a8.51 8.499 0 0 1 2.99 2 8.38 8.379 0 0 1 2.16 3.449 6.9 6.9 0 0 1 .4 2.8c0 1.07 0 1.27-.1 1.73a9.37 9.369 0 0 1-1.76 3.769c-.32.4-.98 1.06-1.37 1.38-.38.32-1.54 1.1-1.7 1.14-.1.03-.1.06-.07.26.03.18.64 2.56.7 2.78l.06.06a12.07 12.058 0 0 0 7.27-9.4c.13-.77.13-2.58 0-3.4a11.96 11.948 0 0 0-5.73-8.578c-.7-.42-2.05-1.06-2.25-1.06Z"})]})});function Fe(t){const e=P.c(28),{selectPlatform:i,next:r}=t;let o;e[0]!==r||e[1]!==i?(o=b=>v=>{v.preventDefault(),i(b),r()},e[0]=r,e[1]=i,e[2]=o):o=e[2];const n=o;let l;e[3]!==r||e[4]!==i?(l=b=>v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),i(b),r())},e[3]=r,e[4]=i,e[5]=l):l=e[5];const m=l;let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsxs(E,{children:[s.jsx(L,{children:"Select a platform"}),s.jsx(I,{className:"text-muted-foreground text-sm",children:"Choose where your addon is published"})]}),e[6]=c):c=e[6];let h;e[7]!==n?(h=n("modrinth"),e[7]=n,e[8]=h):h=e[8];let d;e[9]!==m?(d=m("modrinth"),e[9]=m,e[10]=d):d=e[10];let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("div",{className:"h-1.5 bg-green-600 transition-colors group-hover:bg-green-700 group-focus:bg-green-700"}),e[11]=y):y=e[11];let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs(U,{className:"flex flex-col items-center justify-center p-5 text-center",children:[s.jsx(X,{size:48,className:"mt-2 mb-4 text-green-600"}),s.jsx("h4",{className:"mb-1 font-medium",children:"Modrinth"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Verify addons published on Modrinth"})]}),e[12]=g):g=e[12];let f;e[13]!==h||e[14]!==d?(f=s.jsxs(H,{tabIndex:0,className:"group cursor-pointer overflow-hidden border-2 transition-all hover:border-green-500 focus:border-green-500 focus:ring-2 focus:ring-green-500 focus:outline-none",onClick:h,onKeyDown:d,onMouseDown:Le,children:[y,g]}),e[13]=h,e[14]=d,e[15]=f):f=e[15];let x;e[16]!==n?(x=n("curseforge"),e[16]=n,e[17]=x):x=e[17];let a;e[18]!==m?(a=m("curseforge"),e[18]=m,e[19]=a):a=e[19];let u;e[20]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("div",{className:"h-1.5 bg-orange-600 transition-colors group-hover:bg-orange-700 group-focus:bg-orange-700"}),e[20]=u):u=e[20];let p;e[21]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsxs(U,{className:"flex flex-col items-center justify-center p-5 text-center",children:[s.jsx($e,{size:48,className:"mt-2 mb-4 text-orange-600"}),s.jsx("h4",{className:"mb-1 font-medium",children:"CurseForge"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Verify addons published on CurseForge"})]}),e[21]=p):p=e[21];let j;e[22]!==a||e[23]!==x?(j=s.jsxs(H,{tabIndex:0,className:"group cursor-pointer overflow-hidden border-2 transition-all hover:border-orange-500 focus:border-orange-500 focus:ring-2 focus:ring-orange-500 focus:outline-none",onClick:x,onKeyDown:a,onMouseDown:Ee,children:[u,p]}),e[22]=a,e[23]=x,e[24]=j):j=e[24];let N;return e[25]!==j||e[26]!==f?(N=s.jsxs("div",{children:[c,s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[f,j]})]}),e[25]=j,e[26]=f,e[27]=N):N=e[27],N}function Ee(t){return t.preventDefault()}function Le(t){return t.preventDefault()}const Ie="/assets/eye_squint-CWQb0e96.gif",Be=t=>t?t.length!==64?{isValid:!1,message:"Token must be exactly 64 characters long."}:t.startsWith("mrp_")?{isValid:!0,message:""}:{isValid:!1,message:"Token must start with 'mrp_'."}:{isValid:!1,message:""},Re=t=>{const e=P.c(4),{token:i,isValid:r,errorMessage:o}=t;if(!i){let l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{id:"token-help",className:"text-muted-foreground text-xs",children:"Enter your PAT token to continue"}),e[0]=l):l=e[0],l}if(r){let l;return e[1]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{className:"text-xs text-green-600",children:"✓ Valid token format"}),e[1]=l):l=e[1],l}let n;return e[2]!==o?(n=s.jsx("div",{id:"token-error",className:"text-xs text-red-500",children:o}),e[2]=o,e[3]=n):n=e[3],n};function ze(t){const e=P.c(37),{next:i,back:r,setModrinthToken:o,modrinthToken:n}=t,[l,m]=S.useState(n),[c,h]=S.useState(!1),[d,y]=S.useState("");let g,f;e[0]!==o||e[1]!==l?(g=()=>{const{isValid:B,message:ee}=Be(l);h(B),y(ee),o(l)},f=[l,o],e[0]=o,e[1]=l,e[2]=g,e[3]=f):(g=e[2],f=e[3]),S.useEffect(g,f);let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=B=>{m(B.target.value)},e[4]=x):x=e[4];const a=x;let u;e[5]!==c||e[6]!==i?(u=B=>{B.preventDefault(),c&&i()},e[5]=c,e[6]=i,e[7]=u):u=e[7];const p=u;let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsxs(E,{children:[s.jsx(L,{children:"Modrinth Authentication"}),s.jsx(I,{children:"Verify your Modrinth account to claim ownership of your addons"})]}),e[8]=j):j=e[8];let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs(H,{className:"mb-6 flex items-center gap-3 bg-green-50 p-4 dark:bg-green-950/30",children:[s.jsx("div",{className:"flex-shrink-0 rounded-full bg-green-100 p-2 dark:bg-green-900/50",children:s.jsx(X,{size:20,className:"text-green-600"})}),s.jsx("div",{className:"text-xs text-green-700/80 dark:text-green-400/80",children:"Please verify your Modrinth account to continue to claim ownership of your addons/mods."})]}),e[9]=N):N=e[9];let b;e[10]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(se,{htmlFor:"token",className:"mb-1 block text-xs font-medium",children:"Enter your Modrinth PAT Token"}),e[10]=b):b=e[10];const v=!c&&l.length>0;let w;e[11]!==v||e[12]!==l?(w=s.jsx(te,{id:"token",type:"password",className:"w-full font-mono",placeholder:"••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••",value:l,onChange:a,"aria-invalid":v,"aria-describedby":"token-error token-help"}),e[11]=v,e[12]=l,e[13]=w):w=e[13];let _;e[14]!==d||e[15]!==c||e[16]!==l?(_=s.jsx(Re,{token:l,isValid:c,errorMessage:d}),e[14]=d,e[15]=c,e[16]=l,e[17]=_):_=e[17];let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs("a",{href:"/blog/howto-modrinth-pat",className:"text-primary flex items-center text-xs hover:underline",target:"_blank",rel:"noopener noreferrer",children:["How to get your token ",s.jsx(ye,{size:12,className:"ml-1"})]}),e[18]=C):C=e[18];let M;e[19]!==_?(M=s.jsxs("div",{className:"mt-1 flex justify-between",children:[_,C]}),e[19]=_,e[20]=M):M=e[20];let k;e[21]!==M||e[22]!==w?(k=s.jsxs("div",{children:[b,w,M]}),e[21]=M,e[22]=w,e[23]=k):k=e[23];let A;e[24]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(K,{children:"Why do we need your Modrinth token?"}),e[24]=A):A=e[24];let $;e[25]===Symbol.for("react.memo_cache_sentinel")?($=s.jsxs(H,{className:"bg-muted/50 text-muted-foreground flex items-center justify-between border text-xs",children:[s.jsx("div",{className:"flex-1",children:s.jsxs(O,{children:[A,s.jsxs(Q,{className:"text-xs",children:["We use your Modrinth personal access token to verify that you're the legitimate owner of the addons you're claiming. We ask that you only provide"," ",s.jsx("strong",{children:"read projects"})," permissions and we never store your token after verification."]})]})}),s.jsx("img",{src:Ie,alt:"Verification",className:"mr-4 h-10 w-10"})]}),e[25]=$):$=e[25];let V;e[26]!==r?(V=s.jsx(D,{type:"button",variant:"outline",onClick:r,children:"Back"}),e[26]=r,e[27]=V):V=e[27];const W=!c;let T;e[28]!==W?(T=s.jsx(D,{type:"submit",disabled:W,children:"Next"}),e[28]=W,e[29]=T):T=e[29];let F;e[30]!==V||e[31]!==T?(F=s.jsxs(R,{children:[V,T]}),e[30]=V,e[31]=T,e[32]=F):F=e[32];let z;return e[33]!==p||e[34]!==k||e[35]!==F?(z=s.jsxs("div",{children:[j,N,s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[k,$,F]})]}),e[33]=p,e[34]=k,e[35]=F,e[36]=z):z=e[36],z}const He={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"};function Y(t){const e=P.c(6),{size:i,className:r}=t,n=He[i===void 0?"md":i];let l;e[0]!==r||e[1]!==n?(l=re("flex items-center justify-center",n,r),e[0]=r,e[1]=n,e[2]=l):l=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx("img",{src:le,alt:"Loading spinner",className:"h-full w-full"}),e[3]=m):m=e[3];let c;return e[4]!==l?(c=s.jsx("div",{className:l,children:m}),e[4]=l,e[5]=c):c=e[5],c}function We(t){const e=P.c(18),{next:i,back:r,modrinthToken:o}=t,{data:n,isLoading:l,error:m}=Z(o),c=n?.username,h=n?.avatar_url,d=m!==null;let y;e[0]!==h||e[1]!==l||e[2]!==c?(y=()=>{if(l)return s.jsxs("div",{className:"flex flex-col items-center py-4 text-center",children:[s.jsx(Y,{}),s.jsx("p",{className:"text-muted-foreground mt-4 text-sm",children:"Loading your profile..."})]});if(!c)return s.jsxs("div",{className:"flex flex-col items-center py-4 text-center",children:[s.jsx("p",{className:"text-red-500",children:"Failed to load profile"}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Please check your API key and try again"})]});if(c)return s.jsxs("div",{className:"flex flex-col items-center py-4 text-center",children:[s.jsxs(ne,{className:"h-20 w-20",children:[s.jsx(ie,{src:h,alt:c}),s.jsx(ae,{children:c.charAt(0).toUpperCase()})]}),s.jsx("h3",{className:"text-lg font-semibold",children:c}),s.jsx("div",{className:"text-muted-foreground text-sm",children:"Is this your Modrinth profile?"})]})},e[0]=h,e[1]=l,e[2]=c,e[3]=y):y=e[3];const g=y;let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsxs(E,{children:[s.jsx(L,{children:"Modrinth Profile"}),s.jsx(I,{children:"Confirm this is your Modrinth profile"})]}),e[4]=f):f=e[4];let x;e[5]!==g?(x=g(),e[5]=g,e[6]=x):x=e[6];let a;e[7]!==r?(a=s.jsx(D,{variant:"outline",onClick:r,children:"Back"}),e[7]=r,e[8]=a):a=e[8];const u=!c||l||d;let p;e[9]!==i||e[10]!==u?(p=s.jsx(D,{onClick:i,disabled:u,children:"Yes, it's Me"}),e[9]=i,e[10]=u,e[11]=p):p=e[11];let j;e[12]!==a||e[13]!==p?(j=s.jsxs(R,{children:[a,p]}),e[12]=a,e[13]=p,e[14]=j):j=e[14];let N;return e[15]!==x||e[16]!==j?(N=s.jsxs("div",{className:"flex flex-col gap-3",children:[f,x,j]}),e[15]=x,e[16]=j,e[17]=N):N=e[17],N}function Ue(t){const e=P.c(24),{next:i,back:r,modrinthToken:o,selectedAddonSlugs:n,setSelectedAddonSlugs:l}=t,{data:m,isLoading:c,error:h}=Z(o),{data:d,isLoading:y,error:g}=Ne(m?.id??null);let f;e[0]!==l?(f=(k,A)=>{l($=>A?[...$,k]:$.filter(V=>V!==k))},e[0]=l,e[1]=f):f=e[1];const x=f,a=c||y,u=h||g;let p;e[2]!==d||e[3]!==x||e[4]!==u||e[5]!==a||e[6]!==c||e[7]!==h||e[8]!==n?(p=()=>a?s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-8",children:[s.jsx(Y,{className:"h-10 w-10"}),s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("p",{className:"text-muted-foreground text-sm",children:c?"Loading your profile...":"Loading your projects..."}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"This may take a moment depending on the number of projects"})]})]}):u?s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-8",children:[s.jsx("p",{className:"text-sm text-red-500",children:h?"Failed to load profile":"Failed to load projects"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Please check your API key and try again"})]}):d?.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-8",children:[s.jsx("p",{className:"text-sm",children:"No addons found in our system that match your Modrinth projects."}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Make sure your addons are published on Blueprint."})]}):s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Found Addons:"}),s.jsx("div",{className:"max-h-48 space-y-2 overflow-y-auto",children:d?.map(k=>s.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-2",children:[s.jsx(oe,{id:`addon-${k.slug}`,checked:n.includes(k.slug),onCheckedChange:A=>x(k.slug,A===!0)}),k.icon_url&&s.jsx("img",{src:k.icon_url,alt:k.title,className:"h-8 w-8 rounded"}),s.jsx("label",{htmlFor:`addon-${k.slug}`,className:"flex-1 cursor-pointer text-sm font-medium",children:k.title})]},k.slug))}),s.jsxs("p",{className:"text-muted-foreground text-xs",children:["Selected: ",n.length," of ",d?.length??0]})]}),e[2]=d,e[3]=x,e[4]=u,e[5]=a,e[6]=c,e[7]=h,e[8]=n,e[9]=p):p=e[9];const j=p;let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs(E,{children:[s.jsx(L,{children:"Select Addons"}),s.jsx(I,{children:"Select the addons you want to verify."})]}),e[10]=N):N=e[10];let b;e[11]!==j?(b=j(),e[11]=j,e[12]=b):b=e[12];let v;e[13]!==r?(v=s.jsx(D,{variant:"outline",onClick:r,children:"Back"}),e[13]=r,e[14]=v):v=e[14];const w=a||n.length===0;let _;e[15]!==i||e[16]!==w?(_=s.jsx(D,{onClick:i,disabled:w,children:"Next"}),e[15]=i,e[16]=w,e[17]=_):_=e[17];let C;e[18]!==v||e[19]!==_?(C=s.jsxs(R,{children:[v,_]}),e[18]=v,e[19]=_,e[20]=C):C=e[20];let M;return e[21]!==b||e[22]!==C?(M=s.jsxs("div",{className:"flex flex-col gap-4",children:[N,b,C]}),e[21]=b,e[22]=C,e[23]=M):M=e[23],M}function qe(t){const e=P.c(19),{back:i,next:r,selectedAddonSlugs:o}=t;let n,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs(E,{children:[s.jsx(L,{className:"text-lg font-medium",children:"Review and Confirm"}),s.jsx(I,{className:"text-muted-foreground text-sm",children:"Review your selected addons before completing verification"})]}),l=s.jsx("h4",{className:"text-base font-medium",children:"Selected Addons"}),e[0]=n,e[1]=l):(n=e[0],l=e[1]);let m;e[2]!==o?(m=s.jsxs("div",{children:[l,s.jsx("div",{className:"bg-muted/50 mt-2 max-h-48 overflow-y-auto rounded-md border p-3",children:o.length===0?s.jsx("p",{className:"text-muted-foreground text-sm italic",children:"No addons selected"}):s.jsx("ul",{className:"space-y-2",children:o.map(Ye)})})]}),e[2]=o,e[3]=m):m=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("h4",{className:"text-base font-medium",children:"What happens next?"}),e[4]=c):c=e[4];let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/10 mt-0.5 rounded-full p-1",children:s.jsx(Ae,{className:"text-primary h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Addon Verification"}),s.jsx("div",{className:"text-muted-foreground text-sm",children:"Your user ID will be permanently linked to the selected addons"})]})]}),e[5]=h):h=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/10 mt-0.5 rounded-full p-1",children:s.jsx(be,{className:"text-primary h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Verification Badge"}),s.jsx("div",{className:"text-muted-foreground text-sm",children:"A verification badge will appear next to your addons in our marketplace"})]})]}),e[6]=d):d=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsxs("div",{className:"mt-2 space-y-3",children:[c,s.jsx("div",{className:"bg-muted/50 rounded-lg border p-4",children:s.jsxs("ul",{className:"space-y-4",children:[h,d,s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/10 mt-0.5 rounded-full p-1",children:s.jsx(ce,{className:"text-primary h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Discord Perks"}),s.jsx("div",{className:"text-muted-foreground text-sm",children:`You'll receive the "Verified Creator" role on our Discord server`})]})]})]})})]}),e[7]=y):y=e[7];let g;e[8]!==i?(g=s.jsx(D,{variant:"outline",onClick:i,children:"Back"}),e[8]=i,e[9]=g):g=e[9];const f=o.length===0;let x;e[10]!==r||e[11]!==f?(x=s.jsx(D,{onClick:r,disabled:f,className:"gap-1",children:"Confirm"}),e[10]=r,e[11]=f,e[12]=x):x=e[12];let a;e[13]!==x||e[14]!==g?(a=s.jsxs(R,{children:[g,x]}),e[13]=x,e[14]=g,e[15]=a):a=e[15];let u;return e[16]!==a||e[17]!==m?(u=s.jsxs("div",{className:"flex flex-col gap-4",children:[n,m,y,a]}),e[16]=a,e[17]=m,e[18]=u):u=e[18],u}function Ye(t){return s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(J,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm font-medium",children:t})]},t)}function Ge(t){const e=P.c(21),{startTimestamp:i,countdownTime:r,description:o,icon:n}=t,[l,m]=S.useState(0),[c,h]=S.useState(r);let d,y;e[0]!==r||e[1]!==i?(d=()=>{const v=setInterval(()=>{const w=(Date.now()-i)/1e3,_=Math.max(0,r-w),C=Math.min(100,w/r*100);h(_),m(C),_<=0&&clearInterval(v)},1e3);return()=>clearInterval(v)},y=[i,r],e[0]=r,e[1]=i,e[2]=d,e[3]=y):(d=e[2],y=e[3]),S.useEffect(d,y);const g=Ke;let f;e[4]!==o?(f=s.jsx("p",{className:"text-muted-foreground text-sm",children:o}),e[4]=o,e[5]=f):f=e[5];let x;e[6]!==n?(x=n&&s.jsx("span",{children:n}),e[6]=n,e[7]=x):x=e[7];const a=g(c);let u;e[8]!==a?(u=s.jsx("span",{className:"text-sm font-medium",children:a}),e[8]=a,e[9]=u):u=e[9];let p;e[10]!==x||e[11]!==u?(p=s.jsxs("div",{className:"flex items-center space-x-2",children:[x,u]}),e[10]=x,e[11]=u,e[12]=p):p=e[12];let j;e[13]!==f||e[14]!==p?(j=s.jsxs("div",{className:"flex items-center justify-between",children:[f,p]}),e[13]=f,e[14]=p,e[15]=j):j=e[15];let N;e[16]!==l?(N=s.jsx(we,{value:l,className:"h-2 w-full"}),e[16]=l,e[17]=N):N=e[17];let b;return e[18]!==j||e[19]!==N?(b=s.jsxs("div",{className:"w-full space-y-2",children:[j,N]}),e[18]=j,e[19]=N,e[20]=b):b=e[20],b}function Ke(t){const e=Math.floor(t/60),i=Math.floor(t%60);return`${e}:${i<10?"0":""}${i}`}function Oe(t){const e=P.c(6),{slug:i,onAddonFetched:r}=t,{data:o,isLoading:n,error:l}=ve(i),m=S.useRef(!1);let c,h;return e[0]!==o||e[1]!==l||e[2]!==n||e[3]!==r?(c=()=>{!n&&o&&!l&&!m.current&&(m.current=!0,r(o))},h=[o,n,l,r],e[0]=o,e[1]=l,e[2]=n,e[3]=r,e[4]=c,e[5]=h):(c=e[4],h=e[5]),S.useEffect(c,h),null}function Qe({selectedAddonSlugs:t}){const[e,i]=S.useState("loading"),[r,o]=S.useState([]),[n,l]=S.useState(null),m=de(a=>a.user),c=ke(),h=S.useCallback(async a=>{try{if(!m?.$id)throw new Error("User ID not available");if(!a?.$id)throw new Error(`Missing ID for addon: ${a.slug}`);await c.mutateAsync({addonId:a.$id,data:{claimed_by:m.$id}}),o(u=>[...u,{slug:a.slug,success:!0}])}catch(u){console.error(`Error processing addon ${a.slug}:`,u),o(p=>[...p,{slug:a.slug,success:!1}]),l(`Failed to claim addon: ${a.slug}. Please try again later.`)}},[m?.$id,c]);S.useEffect(()=>{r.length===0&&t.length>0?i("processing"):r.length===t.length&&i(r.some(a=>!a.success)?"error":"success")},[r,t]);const d=new Date;d.setHours(d.getHours()+1,0,0,0);const y=Math.max(0,Math.floor((d.getTime()-Date.now())/1e3)),g=r.filter(a=>a.success).length,f=r.filter(a=>!a.success).length,x=r.length/t.length*100;return s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs(E,{children:[s.jsx(L,{className:"text-lg font-medium",children:"Claiming Addons"}),s.jsx(I,{className:"text-muted-foreground text-sm",children:"Updating ownership for selected addons"})]}),t.map(a=>!r.some(u=>u.slug===a)&&s.jsx(Oe,{slug:a,onAddonFetched:h},a)),e==="processing"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Y,{className:"h-5 w-5"}),s.jsxs("span",{className:"text-sm",children:["Processing ",r.length,"/",t.length," addons..."]})]}),s.jsx("div",{className:"bg-muted h-2 w-full overflow-hidden rounded-full",children:s.jsx("div",{className:"bg-primary h-full transition-all duration-300",style:{width:`${x}%`}})})]}),e!=="loading"&&s.jsxs("div",{className:"rounded-md border p-4",children:[s.jsxs("h4",{className:"mb-3 flex items-center gap-2 font-medium",children:[e==="success"?s.jsx(J,{className:"h-5 w-5 text-green-500"}):s.jsx(q,{className:"h-5 w-5 text-yellow-500"}),"Verification Results"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Successful:"})," ",g," addon",g!==1?"s":""]}),f>0&&s.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400",children:[s.jsx("span",{className:"font-medium",children:"Failed:"})," ",f," addon",f!==1?"s":""]})]})]}),n&&s.jsxs("div",{className:"rounded-md border border-red-300 bg-red-50/50 p-4 dark:border-red-800 dark:bg-red-900/20",children:[s.jsxs("p",{className:"flex items-center gap-2 font-medium text-red-600 dark:text-red-400",children:[s.jsx(q,{className:"h-5 w-5"}),"Verification Error"]}),s.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:n})]}),e==="success"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-md bg-green-50 p-4 dark:bg-green-900/20",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-300",children:"Verification complete!"}),s.jsx("p",{className:"mt-1 text-sm text-green-700 dark:text-green-400",children:"Changes will be visible after the next sync:"})]}),s.jsx(Ge,{startTimestamp:Date.now(),countdownTime:y,description:"Next sync happens in:",icon:s.jsx(Pe,{size:16})}),s.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[s.jsx("h4",{className:"font-medium",children:"Frequently Asked Questions"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{children:"•"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"When will it show up?"}),s.jsx("p",{className:"text-muted-foreground",children:"Changes appear within 1 hour"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{children:"•"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"How do I undo this?"}),s.jsx("p",{className:"text-muted-foreground",children:"Contact support on Discord"})]})]})]})]})]}),s.jsx(R,{children:s.jsx(me,{asChild:!0,children:s.jsx(D,{disabled:e==="processing",children:"Done"})})})]})}function Ze(t){const e=P.c(12),{next:i,back:r}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h3",{className:"text-lg font-medium",children:"CurseForge Verification"}),e[0]=o):o=e[0];let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs(he,{variant:"destructive",children:[s.jsx(q,{className:"h-4 w-4"}),s.jsx(xe,{children:"Not Yet Available"}),s.jsx(fe,{children:"CurseForge verification is not implemented yet."})]}),e[1]=n):n=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("p",{className:"text-sm",children:"While we work on direct CurseForge integration, here are alternative options:"}),e[2]=l):l=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsxs("li",{children:["Get verified manually on our"," ",s.jsx("a",{href:"https://discord.gg/kDa8YC8u5J",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Discord"})]}),e[3]=m):m=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsxs("div",{className:"mt-2 space-y-3",children:[l,s.jsxs("ul",{className:"list-inside list-disc space-y-2 text-sm",children:[m,s.jsxs("li",{children:["Publish your addon on"," ",s.jsx("a",{href:"https://modrinth.com/",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Modrinth"})]}),s.jsxs("li",{children:[s.jsx("a",{href:"mailto:contact@blueprint-create.com",className:"text-primary hover:underline",children:"Email us"})," ","with proof that you created the addon"]})]})]}),e[4]=c):c=e[4];let h;e[5]!==r?(h=s.jsx(D,{variant:"outline",onClick:r,children:"Back"}),e[5]=r,e[6]=h):h=e[6];let d;e[7]!==i?(d=s.jsx(D,{disabled:!0,onClick:i,children:"Verify"}),e[7]=i,e[8]=d):d=e[8];let y;return e[9]!==h||e[10]!==d?(y=s.jsxs("div",{className:"flex flex-col gap-4",children:[o,n,c,s.jsxs("div",{className:"mt-4 flex justify-between",children:[h,d]})]}),e[9]=h,e[10]=d,e[11]=y):y=e[11],y}function Je(){const t=P.c(22),[e,i]=S.useState(!1),[r,o]=S.useState(0),[n,l]=S.useState(null),[m,c]=S.useState("");let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],t[0]=h):h=t[0];const[d,y]=S.useState(h);let g,f;if(t[1]!==m||t[2]!==n||t[3]!==d){const w=()=>o(A=>Math.min(A+1,f.length-1));let _;t[6]===Symbol.for("react.memo_cache_sentinel")?(_=()=>o(Xe),t[6]=_):_=t[6];const C=_;let M;t[7]===Symbol.for("react.memo_cache_sentinel")?(M=A=>{i(A),A||(o(0),l(null),c(""),y([]))},t[7]=M):M=t[7],g=M;let k;t[8]!==w?(k=s.jsx(Fe,{selectPlatform:l,next:w},"platform-selection"),t[8]=w,t[9]=k):k=t[9],f=[k,...n==="modrinth"?[s.jsx(ze,{next:w,back:C,setModrinthToken:c,modrinthToken:m},"modrinth-auth-step"),s.jsx(We,{next:w,back:C,modrinthToken:m},"modrinth-profile-step"),s.jsx(Ue,{back:C,next:w,modrinthToken:m,selectedAddonSlugs:d,setSelectedAddonSlugs:y},"modrinth-validation-step"),s.jsx(qe,{back:C,next:w,selectedAddonSlugs:d},"confirmation-step"),s.jsx(Qe,{back:C,selectedAddonSlugs:d},"push-changes-step")]:[s.jsx(Ze,{next:w,back:C},"curseforge-step")]],t[1]=m,t[2]=n,t[3]=d,t[4]=g,t[5]=f}else g=t[4],f=t[5];let x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(ge,{asChild:!0,children:s.jsx(D,{onClick:()=>i(!0),children:"Verify my addon"})}),t[10]=x):x=t[10];let a,u,p,j;t[11]===Symbol.for("react.memo_cache_sentinel")?(a={opacity:0},u={opacity:1},p={opacity:0},j={duration:.3},t[11]=a,t[12]=u,t[13]=p,t[14]=j):(a=t[11],u=t[12],p=t[13],j=t[14]);const N=f[r];let b;t[15]!==r||t[16]!==N?(b=s.jsx(ue,{className:"min-h-80 w-full max-w-md p-6 sm:max-w-lg",children:s.jsx("div",{className:"relative",children:s.jsx(_e,{mode:"wait",children:s.jsx(Se.div,{initial:a,animate:u,exit:p,transition:j,className:"w-full",children:N},r)})})}),t[15]=r,t[16]=N,t[17]=b):b=t[17];let v;return t[18]!==g||t[19]!==e||t[20]!==b?(v=s.jsxs(pe,{open:e,onOpenChange:g,children:[x,b]}),t[18]=g,t[19]=e,t[20]=b,t[21]=v):v=t[21],v}function Xe(t){return Math.max(t-1,0)}function hs(){const t=P.c(5);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsxs(O,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"h-6 w-6"}),s.jsx("h2",{className:"inline-flex text-2xl font-bold",children:"Addon Verifying"})]}),s.jsx(Q,{children:"Verify your addon to get a cool badge and more!"})]}),s.jsx(je,{variant:"outline",className:"mt-1 md:mt-0",children:"Beta"})]}),t[0]=e):e=t[0];let i,r;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("h4",{children:"Hey modder! "}),r=s.jsx("h6",{children:"Do you want your addon to be verified?"}),t[1]=i,t[2]=r):(i=t[1],r=t[2]);let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"font-medium",children:["Verifying your addon gives you:",s.jsxs("ul",{className:"mt-2 list-inside list-disc",children:[s.jsx("li",{children:"A cool badge"}),s.jsx("li",{children:"Verified Addon Maker role in Discord"}),s.jsx("li",{children:"Allows users to see your addon in your Blueprint profile"}),s.jsx("li",{children:"+10 points to your ego"})]})]})}),t[3]=o):o=t[3];let n;return t[4]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs(s.Fragment,{children:[e,s.jsxs(U,{children:[i,r,o,s.jsx("div",{className:"mt-6",children:s.jsx(Je,{})})]})]}),t[4]=n):n=t[4],n}export{hs as default};
