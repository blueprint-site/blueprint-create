import{r as d,ay as Sn,j as G}from"./radix-x8H_F-uE.js";import{l as bn,c as Pn,aE as Cn,I as Ve,aj as En,j as wn,M as In}from"./index-c6xvjn-C.js";import{M as Rn}from"./MarkdownEditor-ClY73O4m.js";import{S as kn}from"./separator-CQCIxfUd.js";import"./tanstack-aN5NUOUd.js";import"./animation-RShxBXpy.js";import"./index.esm-B9Q8rItI.js";import"./extends-CF3RwP-h.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],An=bn("grip-vertical",Ln),Ee=d.createContext(null);Ee.displayName="PanelGroupContext";const M={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},je=10,te=d.useLayoutEffect,We=Sn.useId,Nn=typeof We=="function"?We:()=>null;let Mn=0;function Ge(e=null){const n=Nn(),t=d.useRef(e||n||null);return t.current===null&&(t.current=""+Mn++),e??t.current}function Ze({children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:o,id:l,maxSize:s,minSize:a,onCollapse:g,onExpand:E,onResize:u,order:c,style:h,tagName:m="div",...w}){const P=d.useContext(Ee);if(P===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:I,getPanelSize:L,getPanelStyle:A,groupId:$,isPanelCollapsed:R,reevaluatePanelConstraints:z,registerPanel:K,resizePanel:J,unregisterPanel:V}=P,T=Ge(l),D=d.useRef({callbacks:{onCollapse:g,onExpand:E,onResize:u},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:s,minSize:a},id:T,idIsFromProps:l!==void 0,order:c});d.useRef({didLogMissingDefaultSizeWarning:!1}),te(()=>{const{callbacks:j,constraints:_}=D.current,B={..._};D.current.id=T,D.current.idIsFromProps=l!==void 0,D.current.order=c,j.onCollapse=g,j.onExpand=E,j.onResize=u,_.collapsedSize=t,_.collapsible=r,_.defaultSize=i,_.maxSize=s,_.minSize=a,(B.collapsedSize!==_.collapsedSize||B.collapsible!==_.collapsible||B.maxSize!==_.maxSize||B.minSize!==_.minSize)&&z(D.current,B)}),te(()=>{const j=D.current;return K(j),()=>{V(j)}},[c,T,K,V]),d.useImperativeHandle(o,()=>({collapse:()=>{v(D.current)},expand:j=>{I(D.current,j)},getId(){return T},getSize(){return L(D.current)},isCollapsed(){return R(D.current)},isExpanded(){return!R(D.current)},resize:j=>{J(D.current,j)}}),[v,I,L,R,T,J]);const ee=A(D.current,i);return d.createElement(m,{...w,children:e,className:n,id:T,style:{...ee,...h},[M.groupId]:$,[M.panel]:"",[M.panelCollapsible]:r||void 0,[M.panelId]:T,[M.panelSize]:parseFloat(""+ee.flexGrow).toFixed(1)})}const _e=d.forwardRef((e,n)=>d.createElement(Ze,{...e,forwardedRef:n}));Ze.displayName="Panel";_e.displayName="forwardRef(Panel)";let $e=null,be=-1,Z=null;function Dn(e,n,t){const r=(n&rn)!==0,i=(n&on)!==0,o=(n&ln)!==0,l=(n&sn)!==0;if(n){if(r)return o?"se-resize":l?"ne-resize":"e-resize";if(i)return o?"sw-resize":l?"nw-resize":"w-resize";if(o)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Hn(){Z!==null&&(document.head.removeChild(Z),$e=null,Z=null,be=-1)}function Ae(e,n,t){var r,i;const o=Dn(e,n);if($e!==o){if($e=o,Z===null&&(Z=document.createElement("style"),document.head.appendChild(Z)),be>=0){var l;(l=Z.sheet)===null||l===void 0||l.removeRule(be)}be=(r=(i=Z.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${o} !important;}`))!==null&&r!==void 0?r:-1}}function Qe(e){return e.type==="keydown"}function en(e){return e.type.startsWith("pointer")}function nn(e){return e.type.startsWith("mouse")}function we(e){if(en(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(nn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function _n(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function $n(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function jn(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:Oe(e),b:Oe(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;b(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Ue(Ke(t.a)),b:Ue(Ke(t.b))};if(i.a===i.b){const o=r.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let s=o.length;for(;s--;){const a=o[s];if(a===l.a)return 1;if(a===l.b)return-1}}return Math.sign(i.a-i.b)}const Gn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Tn(e){var n;const t=getComputedStyle((n=tn(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function Bn(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||Tn(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||Gn.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function Ke(e){let n=e.length;for(;n--;){const t=e[n];if(b(t,"Missing node"),Bn(t))return t}return null}function Ue(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Oe(e){const n=[];for(;e;)n.push(e),e=tn(e);return n}function tn(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const rn=1,on=2,ln=4,sn=8,Fn=_n()==="coarse";let O=[],ae=!1,Q=new Map,Ie=new Map;const ye=new Set;function Vn(e,n,t,r,i){var o;const{ownerDocument:l}=n,s={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:i},a=(o=Q.get(l))!==null&&o!==void 0?o:0;return Q.set(l,a+1),ye.add(s),Pe(),function(){var E;Ie.delete(e),ye.delete(s);const u=(E=Q.get(l))!==null&&E!==void 0?E:1;if(Q.set(l,u-1),Pe(),u===1&&Q.delete(l),O.includes(s)){const c=O.indexOf(s);c>=0&&O.splice(c,1),Re(),i("up",!0,null)}}}function Wn(e){const{target:n}=e,{x:t,y:r}=we(e);ae=!0,Te({target:n,x:t,y:r}),Pe(),O.length>0&&(Ce("down",e),Re(),e.preventDefault(),an(n)||e.stopImmediatePropagation())}function Ne(e){const{x:n,y:t}=we(e);if(ae&&e.buttons===0&&(ae=!1,Ce("up",e)),!ae){const{target:r}=e;Te({target:r,x:n,y:t})}Ce("move",e),Re(),O.length>0&&e.preventDefault()}function Me(e){const{target:n}=e,{x:t,y:r}=we(e);Ie.clear(),ae=!1,O.length>0&&(e.preventDefault(),an(n)||e.stopImmediatePropagation()),Ce("up",e),Te({target:n,x:t,y:r}),Re(),Pe()}function an(e){let n=e;for(;n;){if(n.hasAttribute(M.resizeHandle))return!0;n=n.parentElement}return!1}function Te({target:e,x:n,y:t}){O.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),ye.forEach(i=>{const{element:o,hitAreaMargins:l}=i,s=o.getBoundingClientRect(),{bottom:a,left:g,right:E,top:u}=s,c=Fn?l.coarse:l.fine;if(n>=g-c&&n<=E+c&&t>=u-c&&t<=a+c){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&jn(r,o)>0){let m=r,w=!1;for(;m&&!m.contains(o);){if($n(m.getBoundingClientRect(),s)){w=!0;break}m=m.parentElement}if(w)return}O.push(i)}})}function De(e,n){Ie.set(e,n)}function Re(){let e=!1,n=!1;O.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let t=0;Ie.forEach(r=>{t|=r}),e&&n?Ae("intersection",t):e?Ae("horizontal",t):n?Ae("vertical",t):Hn()}let He;function Pe(){var e;(e=He)===null||e===void 0||e.abort(),He=new AbortController;const n={capture:!0,signal:He.signal};ye.size&&(ae?(O.length>0&&Q.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("contextmenu",Me,n),i.addEventListener("pointerleave",Ne,n),i.addEventListener("pointermove",Ne,n))}),Q.forEach((t,r)=>{const{body:i}=r;i.addEventListener("pointerup",Me,n),i.addEventListener("pointercancel",Me,n)})):Q.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("pointerdown",Wn,n),i.addEventListener("pointermove",Ne,n))}))}function Ce(e,n){ye.forEach(t=>{const{setResizeHandlerState:r}=t,i=O.includes(t);r(e,i,n)})}function Kn(){const[e,n]=d.useState(0);return d.useCallback(()=>n(t=>t+1),[])}function b(e,n){if(!e)throw console.error(n),Error(n)}function re(e,n,t=je){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function Y(e,n,t=je){return re(e,n,t)===0}function W(e,n,t){return re(e,n,t)===0}function Un(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=n[r];if(!W(i,o,t))return!1}return!0}function se({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];b(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:o,maxSize:l=100,minSize:s=0}=r;if(re(t,s)<0)if(o){const a=(i+s)/2;re(t,a)<0?t=i:t=s}else t=s;return t=Math.min(l,t),t=parseFloat(t.toFixed(je)),t}function ge({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:o}){if(W(e,0))return n;const l=[...n],[s,a]=r;b(s!=null,"Invalid first pivot index"),b(a!=null,"Invalid second pivot index");let g=0;if(o==="keyboard"){{const u=e<0?a:s,c=t[u];b(c,`Panel constraints not found for index ${u}`);const{collapsedSize:h=0,collapsible:m,minSize:w=0}=c;if(m){const P=n[u];if(b(P!=null,`Previous layout not found for panel index ${u}`),W(P,h)){const v=w-P;re(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}{const u=e<0?s:a,c=t[u];b(c,`No panel constraints found for index ${u}`);const{collapsedSize:h=0,collapsible:m,minSize:w=0}=c;if(m){const P=n[u];if(b(P!=null,`Previous layout not found for panel index ${u}`),W(P,w)){const v=P-h;re(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}}{const u=e<0?1:-1;let c=e<0?a:s,h=0;for(;;){const w=n[c];b(w!=null,`Previous layout not found for panel index ${c}`);const v=se({panelConstraints:t,panelIndex:c,size:100})-w;if(h+=v,c+=u,c<0||c>=t.length)break}const m=Math.min(Math.abs(e),Math.abs(h));e=e<0?0-m:m}{let c=e<0?s:a;for(;c>=0&&c<t.length;){const h=Math.abs(e)-Math.abs(g),m=n[c];b(m!=null,`Previous layout not found for panel index ${c}`);const w=m-h,P=se({panelConstraints:t,panelIndex:c,size:w});if(!W(m,P)&&(g+=m-P,l[c]=P,g.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?c--:c++}}if(Un(i,l))return i;{const u=e<0?a:s,c=n[u];b(c!=null,`Previous layout not found for panel index ${u}`);const h=c+g,m=se({panelConstraints:t,panelIndex:u,size:h});if(l[u]=m,!W(m,h)){let w=h-m,v=e<0?a:s;for(;v>=0&&v<t.length;){const I=l[v];b(I!=null,`Previous layout not found for panel index ${v}`);const L=I+w,A=se({panelConstraints:t,panelIndex:v,size:L});if(W(I,A)||(w-=A-I,l[v]=A),W(w,0))break;e>0?v--:v++}}}const E=l.reduce((u,c)=>c+u,0);return W(E,100)?l:i}function On({layout:e,panelsArray:n,pivotIndices:t}){let r=0,i=100,o=0,l=0;const s=t[0];b(s!=null,"No pivot index found"),n.forEach((u,c)=>{const{constraints:h}=u,{maxSize:m=100,minSize:w=0}=h;c===s?(r=w,i=m):(o+=w,l+=m)});const a=Math.min(i,100-o),g=Math.max(r,100-l),E=e[s];return{valueMax:a,valueMin:g,valueNow:E}}function xe(e,n=document){return Array.from(n.querySelectorAll(`[${M.resizeHandleId}][data-panel-group-id="${e}"]`))}function cn(e,n,t=document){const i=xe(e,t).findIndex(o=>o.getAttribute(M.resizeHandleId)===n);return i??null}function un(e,n,t){const r=cn(e,n,t);return r!=null?[r,r+1]:[-1,-1]}function qn(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function fn(e,n=document){if(qn(n)&&n.dataset.panelGroupId==e)return n;const t=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return t||null}function ke(e,n=document){const t=n.querySelector(`[${M.resizeHandleId}="${e}"]`);return t||null}function Xn(e,n,t,r=document){var i,o,l,s;const a=ke(n,r),g=xe(e,r),E=a?g.indexOf(a):-1,u=(i=(o=t[E])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,c=(l=(s=t[E+1])===null||s===void 0?void 0:s.id)!==null&&l!==void 0?l:null;return[u,c]}function Jn({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:l}){d.useRef({didWarnAboutMissingResizeHandle:!1}),te(()=>{if(!o)return;const s=xe(t,o);for(let a=0;a<i.length-1;a++){const{valueMax:g,valueMin:E,valueNow:u}=On({layout:r,panelsArray:i,pivotIndices:[a,a+1]}),c=s[a];if(c!=null){const h=i[a];b(h,`No panel data found for index "${a}"`),c.setAttribute("aria-controls",h.id),c.setAttribute("aria-valuemax",""+Math.round(g)),c.setAttribute("aria-valuemin",""+Math.round(E)),c.setAttribute("aria-valuenow",u!=null?""+Math.round(u):"")}}return()=>{s.forEach((a,g)=>{a.removeAttribute("aria-controls"),a.removeAttribute("aria-valuemax"),a.removeAttribute("aria-valuemin"),a.removeAttribute("aria-valuenow")})}},[t,r,i,o]),d.useEffect(()=>{if(!o)return;const s=n.current;b(s,"Eager values not found");const{panelDataArray:a}=s,g=fn(t,o);b(g!=null,`No group found for id "${t}"`);const E=xe(t,o);b(E,`No resize handles found for group id "${t}"`);const u=E.map(c=>{const h=c.getAttribute(M.resizeHandleId);b(h,"Resize handle element has no handle id attribute");const[m,w]=Xn(t,h,a,o);if(m==null||w==null)return()=>{};const P=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const I=a.findIndex(L=>L.id===m);if(I>=0){const L=a[I];b(L,`No panel data found for index ${I}`);const A=r[I],{collapsedSize:$=0,collapsible:R,minSize:z=0}=L.constraints;if(A!=null&&R){const K=ge({delta:W(A,$)?z-$:$-A,initialLayout:r,panelConstraints:a.map(J=>J.constraints),pivotIndices:un(t,h,o),prevLayout:r,trigger:"keyboard"});r!==K&&l(K)}}break}}};return c.addEventListener("keydown",P),()=>{c.removeEventListener("keydown",P)}});return()=>{u.forEach(c=>c())}},[o,e,n,t,r,i,l])}function qe(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function dn(e,n){const t=e==="horizontal",{x:r,y:i}=we(n);return t?r:i}function Yn(e,n,t,r,i){const o=t==="horizontal",l=ke(n,i);b(l,`No resize handle element found for id "${n}"`);const s=l.getAttribute(M.groupId);b(s,"Resize handle element has no group id attribute");let{initialCursorPosition:a}=r;const g=dn(t,e),E=fn(s,i);b(E,`No group element found for id "${s}"`);const u=E.getBoundingClientRect(),c=o?u.width:u.height;return(g-a)/c*100}function Zn(e,n,t,r,i,o){if(Qe(e)){const l=t==="horizontal";let s=0;e.shiftKey?s=100:i!=null?s=i:s=10;let a=0;switch(e.key){case"ArrowDown":a=l?0:s;break;case"ArrowLeft":a=l?-s:0;break;case"ArrowRight":a=l?s:0;break;case"ArrowUp":a=l?0:-s;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return r==null?0:Yn(e,n,t,r,o)}function Qn({panelDataArray:e}){const n=Array(e.length),t=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const l=t[o];b(l,`Panel constraints not found for index ${o}`);const{defaultSize:s}=l;s!=null&&(r++,n[o]=s,i-=s)}for(let o=0;o<e.length;o++){const l=t[o];b(l,`Panel constraints not found for index ${o}`);const{defaultSize:s}=l;if(s!=null)continue;const a=e.length-r,g=i/a;r++,n[o]=g,i-=g}return n}function ie(e,n,t){n.forEach((r,i)=>{const o=e[i];b(o,`Panel data not found for index ${i}`);const{callbacks:l,constraints:s,id:a}=o,{collapsedSize:g=0,collapsible:E}=s,u=t[a];if(u==null||r!==u){t[a]=r;const{onCollapse:c,onExpand:h,onResize:m}=l;m&&m(r,u),E&&(c||h)&&(h&&(u==null||Y(u,g))&&!Y(r,g)&&h(),c&&(u==null||!Y(u,g))&&Y(r,g)&&c())}})}function Se(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function et({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:i,precision:o=3}){const l=t[i];let s;return l==null?s=e!=null?e.toFixed(o):"1":r.length===1?s="1":s=l.toFixed(o),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function nt(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function Xe(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function pn(e){return`react-resizable-panels:${e}`}function mn(e){return e.map(n=>{const{constraints:t,id:r,idIsFromProps:i,order:o}=n;return i?r:o?`${o}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function gn(e,n){try{const t=pn(e),r=n.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function tt(e,n,t){var r,i;const o=(r=gn(e,t))!==null&&r!==void 0?r:{},l=mn(n);return(i=o[l])!==null&&i!==void 0?i:null}function rt(e,n,t,r,i){var o;const l=pn(e),s=mn(n),a=(o=gn(e,i))!==null&&o!==void 0?o:{};a[s]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(l,JSON.stringify(a))}catch(g){console.error(g)}}function Je({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((o,l)=>o+l,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(o=>`${o}%`).join(", ")}`);if(!W(r,100)&&t.length>0)for(let o=0;o<n.length;o++){const l=t[o];b(l!=null,`No layout data found for index ${o}`);const s=100/r*l;t[o]=s}let i=0;for(let o=0;o<n.length;o++){const l=t[o];b(l!=null,`No layout data found for index ${o}`);const s=se({panelConstraints:n,panelIndex:o,size:l});l!=s&&(i+=l-s,t[o]=s)}if(!W(i,0))for(let o=0;o<n.length;o++){const l=t[o];b(l!=null,`No layout data found for index ${o}`);const s=l+i,a=se({panelConstraints:n,panelIndex:o,size:s});if(l!==a&&(i-=a-l,t[o]=a,W(i,0)))break}return t}const ot=100,he={getItem:e=>(Xe(he),he.getItem(e)),setItem:(e,n)=>{Xe(he),he.setItem(e,n)}},Ye={};function hn({autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:i,id:o=null,onLayout:l=null,keyboardResizeBy:s=null,storage:a=he,style:g,tagName:E="div",...u}){const c=Ge(o),h=d.useRef(null),[m,w]=d.useState(null),[P,v]=d.useState([]),I=Kn(),L=d.useRef({}),A=d.useRef(new Map),$=d.useRef(0),R=d.useRef({autoSaveId:e,direction:r,dragState:m,id:c,keyboardResizeBy:s,onLayout:l,storage:a}),z=d.useRef({layout:P,panelDataArray:[],panelDataArrayChanged:!1});d.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),d.useImperativeHandle(i,()=>({getId:()=>R.current.id,getLayout:()=>{const{layout:f}=z.current;return f},setLayout:f=>{const{onLayout:x}=R.current,{layout:C,panelDataArray:y}=z.current,p=Je({layout:f,panelConstraints:y.map(S=>S.constraints)});qe(C,p)||(v(p),z.current.layout=p,x&&x(p),ie(y,p,L.current))}}),[]),te(()=>{R.current.autoSaveId=e,R.current.direction=r,R.current.dragState=m,R.current.id=c,R.current.onLayout=l,R.current.storage=a}),Jn({committedValuesRef:R,eagerValuesRef:z,groupId:c,layout:P,panelDataArray:z.current.panelDataArray,setLayout:v,panelGroupElement:h.current}),d.useEffect(()=>{const{panelDataArray:f}=z.current;if(e){if(P.length===0||P.length!==f.length)return;let x=Ye[e];x==null&&(x=nt(rt,ot),Ye[e]=x);const C=[...f],y=new Map(A.current);x(e,C,y,P,a)}},[e,P,a]),d.useEffect(()=>{});const K=d.useCallback(f=>{const{onLayout:x}=R.current,{layout:C,panelDataArray:y}=z.current;if(f.constraints.collapsible){const p=y.map(q=>q.constraints),{collapsedSize:S=0,panelSize:k,pivotIndices:H}=ne(y,f,C);if(b(k!=null,`Panel size not found for panel "${f.id}"`),!Y(k,S)){A.current.set(f.id,k);const X=le(y,f)===y.length-1?k-S:S-k,N=ge({delta:X,initialLayout:C,panelConstraints:p,pivotIndices:H,prevLayout:C,trigger:"imperative-api"});Se(C,N)||(v(N),z.current.layout=N,x&&x(N),ie(y,N,L.current))}}},[]),J=d.useCallback((f,x)=>{const{onLayout:C}=R.current,{layout:y,panelDataArray:p}=z.current;if(f.constraints.collapsible){const S=p.map(U=>U.constraints),{collapsedSize:k=0,panelSize:H=0,minSize:q=0,pivotIndices:X}=ne(p,f,y),N=x??q;if(Y(H,k)){const U=A.current.get(f.id),pe=U!=null&&U>=N?U:N,Le=le(p,f)===p.length-1?H-pe:pe-H,F=ge({delta:Le,initialLayout:y,panelConstraints:S,pivotIndices:X,prevLayout:y,trigger:"imperative-api"});Se(y,F)||(v(F),z.current.layout=F,C&&C(F),ie(p,F,L.current))}}},[]),V=d.useCallback(f=>{const{layout:x,panelDataArray:C}=z.current,{panelSize:y}=ne(C,f,x);return b(y!=null,`Panel size not found for panel "${f.id}"`),y},[]),T=d.useCallback((f,x)=>{const{panelDataArray:C}=z.current,y=le(C,f);return et({defaultSize:x,dragState:m,layout:P,panelData:C,panelIndex:y})},[m,P]),D=d.useCallback(f=>{const{layout:x,panelDataArray:C}=z.current,{collapsedSize:y=0,collapsible:p,panelSize:S}=ne(C,f,x);return b(S!=null,`Panel size not found for panel "${f.id}"`),p===!0&&Y(S,y)},[]),ee=d.useCallback(f=>{const{layout:x,panelDataArray:C}=z.current,{collapsedSize:y=0,collapsible:p,panelSize:S}=ne(C,f,x);return b(S!=null,`Panel size not found for panel "${f.id}"`),!p||re(S,y)>0},[]),j=d.useCallback(f=>{const{panelDataArray:x}=z.current;x.push(f),x.sort((C,y)=>{const p=C.order,S=y.order;return p==null&&S==null?0:p==null?-1:S==null?1:p-S}),z.current.panelDataArrayChanged=!0,I()},[I]);te(()=>{if(z.current.panelDataArrayChanged){z.current.panelDataArrayChanged=!1;const{autoSaveId:f,onLayout:x,storage:C}=R.current,{layout:y,panelDataArray:p}=z.current;let S=null;if(f){const H=tt(f,p,C);H&&(A.current=new Map(Object.entries(H.expandToSizes)),S=H.layout)}S==null&&(S=Qn({panelDataArray:p}));const k=Je({layout:S,panelConstraints:p.map(H=>H.constraints)});qe(y,k)||(v(k),z.current.layout=k,x&&x(k),ie(p,k,L.current))}}),te(()=>{const f=z.current;return()=>{f.layout=[]}},[]);const _=d.useCallback(f=>{let x=!1;const C=h.current;return C&&window.getComputedStyle(C,null).getPropertyValue("direction")==="rtl"&&(x=!0),function(p){p.preventDefault();const S=h.current;if(!S)return()=>null;const{direction:k,dragState:H,id:q,keyboardResizeBy:X,onLayout:N}=R.current,{layout:U,panelDataArray:pe}=z.current,{initialLayout:ve}=H??{},Le=un(q,f,S);let F=Zn(p,f,k,H,X,S);const Be=k==="horizontal";Be&&x&&(F=-F);const zn=pe.map(vn=>vn.constraints),me=ge({delta:F,initialLayout:ve??U,panelConstraints:zn,pivotIndices:Le,prevLayout:U,trigger:Qe(p)?"keyboard":"mouse-or-touch"}),Fe=!Se(U,me);(en(p)||nn(p))&&$.current!=F&&($.current=F,!Fe&&F!==0?Be?De(f,F<0?rn:on):De(f,F<0?ln:sn):De(f,0)),Fe&&(v(me),z.current.layout=me,N&&N(me),ie(pe,me,L.current))}},[]),B=d.useCallback((f,x)=>{const{onLayout:C}=R.current,{layout:y,panelDataArray:p}=z.current,S=p.map(U=>U.constraints),{panelSize:k,pivotIndices:H}=ne(p,f,y);b(k!=null,`Panel size not found for panel "${f.id}"`);const X=le(p,f)===p.length-1?k-x:x-k,N=ge({delta:X,initialLayout:y,panelConstraints:S,pivotIndices:H,prevLayout:y,trigger:"imperative-api"});Se(y,N)||(v(N),z.current.layout=N,C&&C(N),ie(p,N,L.current))},[]),ce=d.useCallback((f,x)=>{const{layout:C,panelDataArray:y}=z.current,{collapsedSize:p=0,collapsible:S}=x,{collapsedSize:k=0,collapsible:H,maxSize:q=100,minSize:X=0}=f.constraints,{panelSize:N}=ne(y,f,C);N!=null&&(S&&H&&Y(N,p)?Y(p,k)||B(f,k):N<X?B(f,X):N>q&&B(f,q))},[B]),ue=d.useCallback((f,x)=>{const{direction:C}=R.current,{layout:y}=z.current;if(!h.current)return;const p=ke(f,h.current);b(p,`Drag handle element not found for id "${f}"`);const S=dn(C,x);w({dragHandleId:f,dragHandleRect:p.getBoundingClientRect(),initialCursorPosition:S,initialLayout:y})},[]),fe=d.useCallback(()=>{w(null)},[]),ze=d.useCallback(f=>{const{panelDataArray:x}=z.current,C=le(x,f);C>=0&&(x.splice(C,1),delete L.current[f.id],z.current.panelDataArrayChanged=!0,I())},[I]),oe=d.useMemo(()=>({collapsePanel:K,direction:r,dragState:m,expandPanel:J,getPanelSize:V,getPanelStyle:T,groupId:c,isPanelCollapsed:D,isPanelExpanded:ee,reevaluatePanelConstraints:ce,registerPanel:j,registerResizeHandle:_,resizePanel:B,startDragging:ue,stopDragging:fe,unregisterPanel:ze,panelGroupElement:h.current}),[K,m,r,J,V,T,c,D,ee,ce,j,_,B,ue,fe,ze]),de={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return d.createElement(Ee.Provider,{value:oe},d.createElement(E,{...u,children:n,className:t,id:o,ref:h,style:{...de,...g},[M.group]:"",[M.groupDirection]:r,[M.groupId]:c}))}const yn=d.forwardRef((e,n)=>d.createElement(hn,{...e,forwardedRef:n}));hn.displayName="PanelGroup";yn.displayName="forwardRef(PanelGroup)";function le(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ne(e,n,t){const r=le(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],l=t[r];return{...n.constraints,panelSize:l,pivotIndices:o}}function it({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){d.useEffect(()=>{if(e||t==null||r==null)return;const i=ke(n,r);if(i==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const s=i.getAttribute(M.groupId);b(s,`No group element found for id "${s}"`);const a=xe(s,r),g=cn(s,n,r);b(g!==null,`No resize element found for id "${n}"`);const E=l.shiftKey?g>0?g-1:a.length-1:g+1<a.length?g+1:0;a[E].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,n,t])}function xn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:i,onBlur:o,onClick:l,onDragging:s,onFocus:a,onPointerDown:g,onPointerUp:E,style:u={},tabIndex:c=0,tagName:h="div",...m}){var w,P;const v=d.useRef(null),I=d.useRef({onClick:l,onDragging:s,onPointerDown:g,onPointerUp:E});d.useEffect(()=>{I.current.onClick=l,I.current.onDragging=s,I.current.onPointerDown=g,I.current.onPointerUp=E});const L=d.useContext(Ee);if(L===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:A,groupId:$,registerResizeHandle:R,startDragging:z,stopDragging:K,panelGroupElement:J}=L,V=Ge(i),[T,D]=d.useState("inactive"),[ee,j]=d.useState(!1),[_,B]=d.useState(null),ce=d.useRef({state:T});te(()=>{ce.current.state=T}),d.useEffect(()=>{if(t)B(null);else{const oe=R(V);B(()=>oe)}},[t,V,R]);const ue=(w=r?.coarse)!==null&&w!==void 0?w:15,fe=(P=r?.fine)!==null&&P!==void 0?P:5;d.useEffect(()=>{if(t||_==null)return;const oe=v.current;b(oe,"Element ref not attached");let de=!1;return Vn(V,oe,A,{coarse:ue,fine:fe},(x,C,y)=>{if(!C){D("inactive");return}switch(x){case"down":{D("drag"),de=!1,b(y,'Expected event to be defined for "down" action'),z(V,y);const{onDragging:p,onPointerDown:S}=I.current;p?.(!0),S?.();break}case"move":{const{state:p}=ce.current;de=!0,p!=="drag"&&D("hover"),b(y,'Expected event to be defined for "move" action'),_(y);break}case"up":{D("hover"),K();const{onClick:p,onDragging:S,onPointerUp:k}=I.current;S?.(!1),k?.(),de||p?.();break}}})},[ue,A,t,fe,R,V,_,z,K]),it({disabled:t,handleId:V,resizeHandler:_,panelGroupElement:J});const ze={touchAction:"none",userSelect:"none"};return d.createElement(h,{...m,children:e,className:n,id:i,onBlur:()=>{j(!1),o?.()},onFocus:()=>{j(!0),a?.()},ref:v,role:"separator",style:{...ze,...u},tabIndex:c,[M.groupDirection]:A,[M.groupId]:$,[M.resizeHandle]:"",[M.resizeHandleActive]:T==="drag"?"pointer":ee?"keyboard":void 0,[M.resizeHandleEnabled]:!t,[M.resizeHandleId]:V,[M.resizeHandleState]:T})}xn.displayName="PanelResizeHandle";const mt=()=>{const e=Pn.c(30),[n,t]=d.useState(""),[r,i]=d.useState(""),[o,l]=d.useState(""),{toast:s}=Cn();let a;e[0]!==o||e[1]!==r||e[2]!==s||e[3]!==n?(a=()=>{const z={version:n,title:r,content:o};navigator.clipboard.writeText(JSON.stringify(z,null,2)),s({description:"Changelog copied to clipboard!"})},e[0]=o,e[1]=r,e[2]=s,e[3]=n,e[4]=a):a=e[4];const g=a;let E;e[5]===Symbol.for("react.memo_cache_sentinel")?(E=z=>t(z.target.value),e[5]=E):E=e[5];let u;e[6]!==n?(u=G.jsx(Ve,{placeholder:"Version",value:n,onChange:E}),e[6]=n,e[7]=u):u=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c=z=>i(z.target.value),e[8]=c):c=e[8];let h;e[9]!==r?(h=G.jsx(Ve,{placeholder:"Title",value:r,onChange:c,className:"flex-1"}),e[9]=r,e[10]=h):h=e[10];let m;e[11]===Symbol.for("react.memo_cache_sentinel")?(m=G.jsx(En,{size:16}),e[11]=m):m=e[11];let w;e[12]!==g?(w=G.jsxs(wn,{onClick:g,variant:"secondary",className:"flex items-center gap-2",children:[m," Copy Changelog"]}),e[12]=g,e[13]=w):w=e[13];let P;e[14]!==u||e[15]!==h||e[16]!==w?(P=G.jsxs("div",{className:"flex gap-2",children:[u,h,w]}),e[14]=u,e[15]=h,e[16]=w,e[17]=P):P=e[17];let v;e[18]===Symbol.for("react.memo_cache_sentinel")?(v=G.jsx(kn,{orientation:"horizontal",className:"my-2"}),e[18]=v):v=e[18];let I;e[19]!==o?(I=G.jsx(_e,{defaultSize:50,minSize:20,children:G.jsx("div",{className:"bg-surface-1 h-full p-2",children:G.jsx(Rn,{value:o,onChange:l})})}),e[19]=o,e[20]=I):I=e[20];let L;e[21]===Symbol.for("react.memo_cache_sentinel")?(L=G.jsx(xn,{className:"bg-surface-1 cursor-col-resize p-1",children:G.jsx(An,{size:8})}),e[21]=L):L=e[21];let A;e[22]!==o?(A=G.jsx(_e,{defaultSize:50,minSize:20,children:G.jsx("div",{className:"bg-surface-1 h-full border-l p-2",children:G.jsx(In,{content:o})})}),e[22]=o,e[23]=A):A=e[23];let $;e[24]!==A||e[25]!==I?($=G.jsxs(yn,{direction:"horizontal",children:[I,L,A]}),e[24]=A,e[25]=I,e[26]=$):$=e[26];let R;return e[27]!==$||e[28]!==P?(R=G.jsxs("div",{className:"flex h-full flex-col gap-4 p-4",children:[P,v,$]}),e[27]=$,e[28]=P,e[29]=R):R=e[29],R};export{mt as ChangelogsEditor,mt as default};
